<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .image{
            height: 8em;
            width: 8em;
        }
    </style>
</head>
<body>
    <button id="approvedEvents">Events</button>
    <div id="container">

    </div>


    <script>
         document.getElementById('approvedEvents').addEventListener('click', async () => {
            const response = await fetch('http://localhost:8000/api/eventroutes/highlightedEventsRecent');
            const data = await response.json();
            const container = document.getElementById('container');
            container.innerHTML = '';  // Clear previous content

       
                    const ul = document.createElement('ul');
                    data.forEach(event => {
                        const li = document.createElement('li');
                        li.className = 'event';
                        const image = document.createElement('img');
                        image.className= 'image';
                        image.src = `${event.images[0]}`
                        const eventInfo = document.createElement('div');
                        eventInfo.className = 'event-info';
                        eventInfo.textContent = `Event: ${event.name}, Description: ${event.description}, Organizer: ${event.organizer}, Date: ${new Date(event.dateofevent).toLocaleDateString()}`;

                       

                        li.appendChild(eventInfo);
                        ul.appendChild(li);
                        li.appendChild(image);

                    });
                    container.appendChild(ul);
                
            } 
        );
    </script>
</body>
</html>